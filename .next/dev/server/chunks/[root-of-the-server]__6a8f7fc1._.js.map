{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/avbha/OneDrive/Desktop/projects/educify/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis as unknown as { prisma: PrismaClient };\n\nexport const prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    log: process.env.NODE_ENV === \"development\" ? [\"query\", \"info\"] : [\"error\"],\n  });\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAEjB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf,KAAK,uCAAyC;QAAC;QAAS;KAAO,GAAG;AACpE;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/avbha/OneDrive/Desktop/projects/educify/lib/validation.ts"],"sourcesContent":["import { z } from \"zod\";\n\n// Auth Schemas\nexport const SignupSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  password: z\n    .string()\n    .min(8, \"Password must be at least 8 characters\")\n    .regex(/[A-Z]/, \"Password must contain uppercase letter\")\n    .regex(/[a-z]/, \"Password must contain lowercase letter\")\n    .regex(/[0-9]/, \"Password must contain number\"),\n  confirmPassword: z.string().min(1, \"Confirm password is required\"),\n  fullName: z.string().min(2, \"Name must be at least 2 characters\"),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n});\n\nexport const LoginSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  password: z.string().min(1, \"Password is required\"),\n  rememberMe: z.boolean().optional().default(false),\n});\n\n// Course Schemas\nexport const CreateCourseSchema = z.object({\n  title: z.string().min(5, \"Title must be at least 5 characters\").max(200),\n  description: z.string().min(1, \"Description is required\").max(5000),\n  category: z.enum([\n    \"WEB_DEVELOPMENT\",\n    \"DATA_SCIENCE\",\n    \"AI_ML\",\n    \"DESIGN\",\n    \"BUSINESS\",\n    \"MUSIC\",\n    \"PHOTOGRAPHY\",\n    \"LANGUAGE_LEARNING\",\n  ]),\n  difficulty: z.enum([\"BEGINNER\", \"INTERMEDIATE\", \"ADVANCED\"]),\n  price: z.number().min(0, \"Price must be non-negative\"),\n  duration: z.string().min(1),\n  highlights: z.array(z.string()).optional(),\n  requirements: z.array(z.string()).optional(),\n  whatYouLearn: z.array(z.string()).optional(),\n  thumbnail: z.string().optional(),\n  status: z.enum([\"DRAFT\", \"PUBLISHED\", \"ARCHIVED\"]).optional(),\n});\n\nexport const UpdateCourseSchema = CreateCourseSchema.partial();\n\nexport const AddModuleSchema = z.object({\n  title: z.string().min(1, \"Module title is required\"),\n  type: z.enum([\"VIDEO\", \"DOCUMENT\", \"TEXT\"]),\n  fileName: z.string().min(1),\n  url: z.string().optional(),\n  content: z.string().optional(),\n  duration: z.string().optional(),\n  order: z.number().int().min(0),\n});\n\n// User Schemas\nexport const UpdateProfileSchema = z.object({\n  name: z.string().min(2).max(100).optional(),\n  email: z.string().email().optional(),\n  phone: z.string().max(20).optional(),\n  location: z.string().max(100).optional(),\n  bio: z.string().max(500).optional(),\n});\n\nexport const UpdatePreferencesSchema = z.object({\n  emailNotifications: z.boolean().optional(),\n  marketingEmails: z.boolean().optional(),\n  courseRecommendations: z.boolean().optional(),\n});\n\n// Enrollment Schemas\nexport const CreateEnrollmentSchema = z.object({\n  courseId: z.string().min(1, \"Course ID is required\"),\n});\n\n// Wishlist Schemas\nexport const AddToWishlistSchema = z.object({\n  courseId: z.string().min(1, \"Course ID is required\"),\n});\n\n// Search Schema\nexport const SearchSchema = z.object({\n  q: z.string().min(1, \"Search query is required\"),\n  limit: z.number().int().positive().default(10),\n});\n\n// Review Schema\nexport const CreateReviewSchema = z.object({\n  rating: z.number().int().min(1).max(5),\n  review: z.string().max(1000).optional(),\n});\n\n// Pagination Schema\nexport const PaginationSchema = z.object({\n  page: z.number().int().positive().default(1),\n  limit: z.number().int().positive().max(100).default(10),\n  search: z.string().optional(),\n  category: z.string().optional(),\n  difficulty: z.string().optional(),\n});\n\nexport type SignupInput = z.infer<typeof SignupSchema>;\nexport type LoginInput = z.infer<typeof LoginSchema>;\nexport type CreateCourseInput = z.infer<typeof CreateCourseSchema>;\nexport type UpdateCourseInput = z.infer<typeof UpdateCourseSchema>;\nexport type UpdateProfileInput = z.infer<typeof UpdateProfileSchema>;\nexport type UpdatePreferencesInput = z.infer<typeof UpdatePreferencesSchema>;\nexport type CreateEnrollmentInput = z.infer<typeof CreateEnrollmentSchema>;\nexport type AddToWishlistInput = z.infer<typeof AddToWishlistSchema>;\nexport type CreateReviewInput = z.infer<typeof CreateReviewSchema>;\nexport type PaginationInput = z.infer<typeof PaginationSchema>;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/avbha/OneDrive/Desktop/projects/educify/lib/api-utils.ts"],"sourcesContent":["/**\n * API Response utilities\n */\n\nexport interface ApiResponse<T = null> {\n  success: boolean;\n  data?: T;\n  error?: string;\n  message?: string;\n}\n\nexport function successResponse<T>(data: T, message?: string): ApiResponse<T> {\n  return {\n    success: true,\n    data,\n    message,\n  };\n}\n\nexport function errorResponse(error: string): ApiResponse {\n  return {\n    success: false,\n    error,\n  };\n}\n\n/**\n * Pagination utilities\n */\nexport interface PaginationParams {\n  page: number;\n  limit: number;\n}\n\nexport interface PaginatedResponse<T> {\n  data: T[];\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    pages: number;\n  };\n}\n\nexport function calculateSkip(page: number, limit: number): number {\n  return (page - 1) * limit;\n}\n\nexport function calculatePages(total: number, limit: number): number {\n  return Math.ceil(total / limit);\n}\n\nexport function createPaginatedResponse<T>(\n  data: T[],\n  total: number,\n  page: number,\n  limit: number\n): PaginatedResponse<T> {\n  return {\n    data,\n    pagination: {\n      page,\n      limit,\n      total,\n      pages: calculatePages(total, limit),\n    },\n  };\n}\n\n/**\n * Error handling\n */\nexport class AppError extends Error {\n  constructor(public statusCode: number, message: string) {\n    super(message);\n    this.name = \"AppError\";\n  }\n}\n\nexport class ValidationError extends AppError {\n  constructor(message: string) {\n    super(400, message);\n    this.name = \"ValidationError\";\n  }\n}\n\nexport class NotFoundError extends AppError {\n  constructor(resource: string) {\n    super(404, `${resource} not found`);\n    this.name = \"NotFoundError\";\n  }\n}\n\nexport class UnauthorizedError extends AppError {\n  constructor(message: string = \"Unauthorized\") {\n    super(401, message);\n    this.name = \"UnauthorizedError\";\n  }\n}\n\nexport class ForbiddenError extends AppError {\n  constructor(message: string = \"Forbidden\") {\n    super(403, message);\n    this.name = \"ForbiddenError\";\n  }\n}\n\nexport class ConflictError extends AppError {\n  constructor(message: string) {\n    super(409, message);\n    this.name = \"ConflictError\";\n  }\n}\n\n/**\n * Request parsing utilities\n */\nexport async function parseJsonBody(request: Request): Promise<any> {\n  try {\n    return await request.json();\n  } catch (error) {\n    throw new ValidationError(\"Invalid JSON in request body\");\n  }\n}\n\nexport async function parseFormData(request: Request): Promise<FormData> {\n  try {\n    return await request.formData();\n  } catch (error) {\n    throw new ValidationError(\"Invalid form data in request\");\n  }\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASM,SAAS,gBAAmB,IAAO,EAAE,OAAgB;IAC1D,OAAO;QACL,SAAS;QACT;QACA;IACF;AACF;AAEO,SAAS,cAAc,KAAa;IACzC,OAAO;QACL,SAAS;QACT;IACF;AACF;AAoBO,SAAS,cAAc,IAAY,EAAE,KAAa;IACvD,OAAO,CAAC,OAAO,CAAC,IAAI;AACtB;AAEO,SAAS,eAAe,KAAa,EAAE,KAAa;IACzD,OAAO,KAAK,IAAI,CAAC,QAAQ;AAC3B;AAEO,SAAS,wBACd,IAAS,EACT,KAAa,EACb,IAAY,EACZ,KAAa;IAEb,OAAO;QACL;QACA,YAAY;YACV;YACA;YACA;YACA,OAAO,eAAe,OAAO;QAC/B;IACF;AACF;AAKO,MAAM,iBAAiB;;IAC5B,YAAY,AAAO,UAAkB,EAAE,OAAe,CAAE;QACtD,KAAK,CAAC,eADW,aAAA;QAEjB,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAEO,MAAM,wBAAwB;IACnC,YAAY,OAAe,CAAE;QAC3B,KAAK,CAAC,KAAK;QACX,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAEO,MAAM,sBAAsB;IACjC,YAAY,QAAgB,CAAE;QAC5B,KAAK,CAAC,KAAK,GAAG,SAAS,UAAU,CAAC;QAClC,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAEO,MAAM,0BAA0B;IACrC,YAAY,UAAkB,cAAc,CAAE;QAC5C,KAAK,CAAC,KAAK;QACX,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAEO,MAAM,uBAAuB;IAClC,YAAY,UAAkB,WAAW,CAAE;QACzC,KAAK,CAAC,KAAK;QACX,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAEO,MAAM,sBAAsB;IACjC,YAAY,OAAe,CAAE;QAC3B,KAAK,CAAC,KAAK;QACX,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAKO,eAAe,cAAc,OAAgB;IAClD,IAAI;QACF,OAAO,MAAM,QAAQ,IAAI;IAC3B,EAAE,OAAO,OAAO;QACd,MAAM,IAAI,gBAAgB;IAC5B;AACF;AAEO,eAAe,cAAc,OAAgB;IAClD,IAAI;QACF,OAAO,MAAM,QAAQ,QAAQ;IAC/B,EAAE,OAAO,OAAO;QACd,MAAM,IAAI,gBAAgB;IAC5B;AACF"}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/avbha/OneDrive/Desktop/projects/educify/app/api/courses/%5Bid%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { prisma } from \"@/lib/prisma\";\nimport { UpdateCourseSchema } from \"@/lib/validation\";\nimport { successResponse, errorResponse, NotFoundError, ForbiddenError } from \"@/lib/api-utils\";\n\n/**\n * GET /api/courses/[id]\n * Get course details\n */\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    // Debug: log incoming URL and params to diagnose undefined id\n    console.log('[api/courses/[id] GET] request.url=', request.url);\n    console.log('[api/courses/[id] GET] params=', params);\n    const { id } = await params;\n\n    const course = await prisma.course.findUnique({\n      where: { id },\n      include: {\n        instructor: {\n          select: {\n            id: true,\n            name: true,\n            bio: true,\n            avatar: true,\n          },\n        },\n        modules: {\n          orderBy: { order: \"asc\" },\n        },\n        lessons: {\n          orderBy: { order: \"asc\" },\n        },\n      },\n    });\n\n    if (!course) {\n      return NextResponse.json(\n        errorResponse(\"Course not found\"),\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json(\n      successResponse({\n        id: course.id,\n        title: course.title,\n        description: course.description,\n        // Convert Decimal types to numbers/strings for JSON serialization\n        price: typeof course.price === 'object' && course.price !== null ? Number(course.price) : course.price,\n        category: course.category,\n        difficulty: course.difficulty,\n        rating: typeof course.rating === 'object' && course.rating !== null ? Number(course.rating) : course.rating,\n        students: course.studentsEnrolled,\n        instructor: course.instructor,\n        instructorId: course.instructorId,\n        highlights: course.highlights,\n        requirements: course.requirements,\n        whatYouLearn: course.whatYouLearn,\n        features: course.features,\n        lessons: course.lessons,\n        modules: course.modules,\n      })\n    );\n  } catch (error) {\n    console.error(\"Get course error:\", error);\n    return NextResponse.json(\n      errorResponse(\"Failed to fetch course\"),\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * PUT /api/courses/[id]\n * Update course (instructor only)\n */\nexport async function PUT(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    const userId = request.headers.get(\"x-user-id\");\n    if (!userId) {\n      return NextResponse.json(\n        errorResponse(\"Unauthorized\"),\n        { status: 401 }\n      );\n    }\n    const { id } = await params;\n    const body = await request.json();\n\n    // Validate input\n    const validation = UpdateCourseSchema.safeParse(body);\n    if (!validation.success) {\n      return NextResponse.json(\n        errorResponse(validation.error.errors[0].message),\n        { status: 400 }\n      );\n    }\n\n    // Check course exists and user is instructor\n    const course = await prisma.course.findUnique({\n      where: { id },\n    });\n\n    if (!course) {\n      return NextResponse.json(\n        errorResponse(\"Course not found\"),\n        { status: 404 }\n      );\n    }\n\n    if (course.instructorId !== userId) {\n      return NextResponse.json(\n        errorResponse(\"Forbidden\"),\n        { status: 403 }\n      );\n    }\n\n    // Update course\n    const updated = await prisma.course.update({\n      where: { id },\n      data: validation.data,\n      include: {\n        instructor: {\n          select: {\n            name: true,\n          },\n        },\n      },\n    });\n\n    return NextResponse.json(\n      successResponse(updated, \"Course updated successfully\")\n    );\n  } catch (error) {\n    console.error(\"Update course error:\", error);\n    return NextResponse.json(\n      errorResponse(\"Failed to update course\"),\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * DELETE /api/courses/[id]\n * Delete course (instructor only)\n */\nexport async function DELETE(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    const userId = request.headers.get(\"x-user-id\");\n    if (!userId) {\n      return NextResponse.json(\n        errorResponse(\"Unauthorized\"),\n        { status: 401 }\n      );\n    }\n    const { id } = await params;\n\n    // Check course exists and user is instructor\n    const course = await prisma.course.findUnique({\n      where: { id },\n    });\n\n    if (!course) {\n      return NextResponse.json(\n        errorResponse(\"Course not found\"),\n        { status: 404 }\n      );\n    }\n\n    if (course.instructorId !== userId) {\n      return NextResponse.json(\n        errorResponse(\"Forbidden\"),\n        { status: 403 }\n      );\n    }\n\n    // 1. Fetch course with modules to get file URLs\n    const courseToDelete = await prisma.course.findUnique({\n      where: { id },\n      include: { modules: true },\n    });\n\n    if (courseToDelete) {\n      // 2. Delete files from S3 (fire and forget to speed up response, or await if strict)\n      const { deleteFromS3 } = await import(\"@/lib/s3\");\n      const deletions = [];\n\n      // Delete thumbnail\n      if (courseToDelete.thumbnail && courseToDelete.thumbnail.includes(\"amazonaws.com\")) {\n        deletions.push(deleteFromS3(courseToDelete.thumbnail));\n      }\n\n      // Delete module files\n      for (const module of courseToDelete.modules) {\n        if (module.url && module.url.includes(\"amazonaws.com\")) {\n          deletions.push(deleteFromS3(module.url));\n        }\n      }\n\n      // Wait for all S3 deletions (optional: could be done in background)\n      await Promise.allSettled(deletions);\n    }\n\n    // 3. Delete course (cascade deletes modules, lessons, enrollments)\n    await prisma.course.delete({\n      where: { id },\n    });\n\n    return NextResponse.json(\n      successResponse(null, \"Course deleted successfully\")\n    );\n  } catch (error) {\n    console.error(\"Delete course error:\", error);\n    return NextResponse.json(\n      errorResponse(\"Failed to delete course\"),\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":"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"}}]
}